<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sai Service</title>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <header>
    <div class="header" style="background: linear-gradient(to right, #6a11cb, #2575fc); color: white; padding: 7px; position: relative; display: flex; align-items: center; justify-content: center;">
      <img src="assets/images/Sai Logo.jpg" alt="Sai Service" style="height: 50px; margin-right: 15px;">
      <marquee style="font-size: 22px; font-weight: bold;">WELCOME TO SAI SERVICE</marquee>
    </div>
  </header>

  <div class="main-container">
    <main>
      <div class="upload-section">
        <h2>View Reports</h2>

        <form (submit)="onViewReports(); $event.preventDefault();">
          <div class="form-group">
            <label for="city">Report Type:</label>
            <!-- <select id="city" (change)="onCityChange($event)"> -->
            <select id="city">
              <option>Select Report Type</option>
              <option>ERP</option>
              <option>IT_MONTHLY</option>
              <option>IT</option>
              <option>OTHERS</option>
            </select>
            
            
          </div>

          <!-- <div class="form-group">
            <label for="reportType">Report Type:</label>
            <select id="reportType">
              <option>Select Report Type</option>
              <option *ngFor="let type of reportTypes">{{ type }}</option>
            </select>
          </div> -->

          <!-- <div class="form-group">
            <label for="month">Month:</label>
            <select id="month">
              <option>Select Month</option>
              <option *ngFor="let month of ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEPT', 'OCT', 'NOV', 'DEC']">{{ month }}</option>
            </select>
          </div> -->

          <!-- <div class="form-group">
            <label for="year">Year:</label>
            <select id="year">
              <option>Select Year</option>
              <option [value]="previousYear">{{ previousYear }}</option>
              <option [value]="currentYear">{{ currentYear }}</option>
            </select>
          </div> -->

          <div class="form-group">
            <button type="submit" (click)="onViewReports()">View Reports</button>
          </div>
        </form>

        <div *ngIf="reports.length > 0">
          <h3>Report Details</h3>
          <table>
            <thead>
              <tr>
                <th>Report Name</th>
                <th>Download Report</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let report of reports">
                <td>{{ report.fileName }}</td> <!-- Displaying extracted filename -->
                <td>
                  <button (click)="downloadReport(report.fileName)">Download</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div *ngIf="errorMessage" style="color: red;">
          {{ errorMessage }}
        </div>

      </div>
    </main>
  </div>
</body>

</html>
